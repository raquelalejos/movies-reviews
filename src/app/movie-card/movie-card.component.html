<!--
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 -->

<div
  class="movie-card-container"
  *ngIf="movie"
  (click)="onCardClicked()"
>
  <mat-card class="movie-card">
    <img
      mat-card-image
      [src]="movie.poster_image"
      alt="Movie's poster"
      id="mat-card-image"
    />

    <mat-card-content class="card-info">
      <div class="info-header">
        <mat-card-title [innerHTML]="movie.title">
          Movie Title
        </mat-card-title>
        <span class="year">{{ movie.year }}</span>
      </div>
      <div class="star-icon-row">
        <!-- Draw n filled in stars, where n = movie.avgRating -->
        <ng-container *ngFor="let _ of [].constructor(movie.avgRating)">
          <i class="template material-icons rating-star">star</i>
        </ng-container>

        <!-- Draw 5-n hollow stars, where n = movie.avgRating -->
        <ng-container
          *ngFor="let _ of [].constructor(5 - movie.avgRating)"
        >
          <i class="template material-icons rating-star">star_border</i>
        </ng-container>
        <mat-card-subtitle
          >{{ movie.category_genre }}
        </mat-card-subtitle>
      </div>
    </mat-card-content>
  </mat-card>
</div>
